# ToDoList 功能测试文档

## 测试概述

本文档包含 ToDoList 应用的完整功能测试用例，涵盖所有核心功能和用户场景。

**测试环境要求：**
- 操作系统：Windows 10/11
- 已安装 Qt 5.15.2 运行时
- 应用程序已成功编译和运行

---

## 21.1 CRUD 操作测试

### 21.1.1 创建任务测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-01-01 | 点击"新建任务"按钮 | 打开任务创建对话框 | | |
| TC-01-02 | 仅输入标题，其他字段留空，保存 | 任务创建成功，使用默认值（优先级：低，进度：0%） | | |
| TC-01-03 | 输入完整信息（标题、描述、优先级、截止日期、标签、进度），保存 | 任务创建成功，所有信息保存并显示在列表中 | | |
| TC-01-04 | 不输入标题，尝试保存 | 显示错误提示，要求输入标题 | | |
| TC-01-05 | 输入超长标题（>200字符），保存 | 显示验证错误或自动截断 | | |
| TC-01-06 | 设置截止日期为过去时间 | 允许保存，任务标记为过期 | | |
| TC-01-07 | 添加多个标签到任务 | 所有标签显示在任务卡片上 | | |
| TC-01-08 | 设置进度为50%，保存 | 进度条显示50% | | |

### 21.1.2 编辑任务测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-01-09 | 点击任务卡片的编辑按钮 | 打开任务编辑对话框，显示当前任务信息 | | |
| TC-01-10 | 修改任务标题，保存 | 标题更新，显示在任务列表中 | | |
| TC-01-11 | 修改任务优先级（低→中→高），保存 | 优先级指示器颜色和文本更新 | | |
| TC-01-12 | 修改任务进度，保存 | 进度条更新 | | |
| TC-01-13 | 编辑任务的描述（添加长文本），保存 | 完整描述保存，显示时支持"阅读更多" | | |
| TC-01-14 | 修改截止日期，保存 | 截止日期更新显示 | | |
| TC-01-15 | 添加新标签到已有任务，保存 | 新标签添加到任务 | | |
| TC-01-16 | 移除任务中的标签，保存 | 标签从任务中移除 | | |
| TC-01-17 | 编辑有依赖关系的任务 | 对话框显示依赖任务列表 | | |

### 21.1.3 删除任务测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-01-18 | 点击删除按钮（无子任务的任务） | 显示确认对话框 | | |
| TC-01-19 | 确认删除无子任务的任务 | 任务移入回收站，从任务列表消失 | | |
| TC-01-20 | 点击删除按钮（有子任务的父任务） | 显示确认对话框，包含子任务数量信息 | | |
| TC-01-21 | 确认删除父任务（设置：级联删除） | 父任务和所有子任务移入回收 bin | | |
| TC-01-22 | 确认删除父任务（设置：提升子任务） | 父任务和子任务都移入回收 bin，子任务提升为根任务 | | |
| TC-01-23 | 在确认对话框中取消删除 | 任务保留在列表中，不进入回收 bin | | |

### 21.1.4 标记完成/未完成测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-01-24 | 点击任务卡片的完成复选框（未完成任务） | 任务标记为完成，进度自动设置为100%，视觉效果变化 | | |
| TC-01-25 | 再次点击完成复选框（已完成任务） | 任务标记为未完成，进度恢复原值 | | |
| TC-01-26 | 将进度设置为100%，保存 | 任务自动标记为完成 | | |
| TC-01-27 | 将完成任务的进度从100%改为50%，保存 | 任务标记为未完成 | | |

---

## 21.2 任务层级测试

### 21.2.1 创建父子任务测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-02-01 | 创建一个父任务 | 任务显示在根级别 | | |
| TC-02-02 | 为父任务创建子任务 | 子任务显示为父任务的子节点，有缩进 | | |
| TC-02-03 | 创建多层级任务（父→子→孙） | 正确显示三级层级关系 | | |
| TC-02-04 | 在任务详情中设置父任务 | 任务成为所选父任务的子任务 | | |

### 21.2.2 展开/折叠测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-02-05 | 点击父任务的展开箭头（有子任务） | 展开子任务，显示所有子节点 | | |
| TC-02-06 | 再次点击父任务的折叠箭头 | 折叠子任务，隐藏子节点 | | |
| TC-02-07 | 右键父任务，选择"展开所有" | 展开所有后代任务 | | |
| TC-02-08 | 右键父任务，选择"折叠所有" | 折叠所有后代任务 | | |

### 21.2.3 编辑层级任务测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-02-09 | 编辑父任务标题 | 父任务标题更新，层级关系保持 | | |
| TC-02-10 | 编辑子任务标题 | 子任务标题更新，层级关系保持 | | |
| TC-02-11 | 修改子任务优先级 | 子任务优先级更新，不影响父任务 | | |

### 21.2.4 父任务自动计算测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-02-12 | 创建父任务（进度0%），添加3个子任务（进度各0%） | 父任务进度保持0% | | |
| TC-02-13 | 将其中一个子任务进度改为50% | 父任务进度自动计算更新为~17% | | |
| TC-02-14 | 将所有子任务标记为完成（100%） | 父任务进度自动更新为100% | | |
| TC-02-15 | 完成一个子任务，其他未完成 | 父任务进度根据子任务数量和完成状态自动计算 | | |
| TC-02-16 | 删除一个子任务 | 父任务进度重新计算 | | |

### 21.2.5 拖放排序测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-02-17 | 拖动一个任务到同级任务上方 | 任务移动到新位置 | | |
| TC-02-18 | 拖动一个任务到另一个任务上 | 拖动的任务成为目标任务的子任务 | | |
| TC-02-19 | 拖动子任务到根级别 | 子任务成为独立的根任务 | | |
| TC-02-20 | 拖动父任务（包含子任务） | 父任务及其所有子任务一起移动 | | |

---

## 21.3 搜索和过滤功能测试

### 21.3.1 实时搜索测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-03-01 | 在搜索框输入字符 | 任务列表实时过滤，显示匹配结果 | | |
| TC-03-02 | 输入任务标题中的关键词 | 返回包含该关键词的任务 | | |
| TC-03-03 | 输入任务描述中的关键词 | 返回描述中包含该关键词的任务 | | |
| TC-03-04 | 输入标签名称 | 返回带有该标签的任务 | | |
| TC-03-05 | 清空搜索框 | 显示所有任务，移除搜索过滤 | | |
| TC-03-06 | 输入不存在的关键词 | 显示"无结果"空状态页面 | | |

### 21.3.2 高级搜索测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-03-07 | 点击"高级"按钮 | 展开高级搜索面板 | | |
| TC-03-08 | 设置优先级过滤为"高" | 只显示高优先级任务 | | |
| TC-03-09 | 同时选择"高"和"中"优先级 | 显示高优先级和中优先级任务 | | |
| TC-03-10 | 设置状态过滤为"已完成" | 只显示已完成的任务 | | |
| TC-03-11 | 设置日期过滤为"今天" | 显示截止日期为今天的任务 | | |
| TC-03-12 | 设置日期过滤为"本周" | 显示截止日期在本周内的任务 | | |
| TC-03-13 | 设置日期过滤为"过期" | 显示所有已过期的任务 | | |
| TC-03-14 | 设置自定义日期范围 | 显示截止日期在指定范围内的任务 | | |
| TC-03-15 | 组合多个过滤条件（优先级+状态+日期） | 显示同时满足所有条件的任务 | | |
| TC-03-16 | 点击"重置"按钮 | 清除所有过滤条件，显示所有任务 | | |

### 21.3.3 标签过滤测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-03-17 | 点击侧边栏中的标签 | 显示带有该标签的所有任务 | | |
| TC-03-18 | 选择多个标签 | 显示带有任一标签的任务（或逻辑） | | |
| TC-03-19 | 在高级搜索中选择标签过滤 | 显示带有指定标签的任务 | | |

### 21.3.4 排序功能测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-03-20 | 选择按"截止日期"排序 | 任务按截止日期排序（升序或降序） | | |
| TC-03-21 | 切换截止日期排序方向 | 排序顺序反转 | | |
| TC-03-22 | 选择按"优先级"排序 | 任务按优先级排序（高→中→低） | | |
| TC-03-23 | 选择按"创建时间"排序 | 任务按创建时间排序（最新优先） | | |
| TC-03-24 | 选择"手动"排序 | 使用sort_order字段，允许拖放重排 | | |

### 21.3.5 搜索语法测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-03-25 | 输入"tag:work" | 过滤带有"work"标签的任务 | | |
| TC-03-26 | 输入"priority:high" | 过滤高优先级任务 | | |
| TC-03-27 | 输入"tag:work priority:high report" | 过滤同时带有work标签、高优先级，且标题/描述包含"report"的任务 | | |
| TC-03-28 | 输入"priority:low" | 过滤低优先级任务 | | |

### 21.3.6 搜索结果显示测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-03-29 | 执行搜索并返回结果 | 显示结果数量，如"找到 5 个任务" | | |
| TC-03-30 | 应用多个过滤条件 | 显示所有活动的过滤条件标签 | | |
| TC-03-31 | 点击过滤条件标签 | 移除该过滤条件 | | |
| TC-03-32 | 搜索无结果 | 显示空状态提示，建议清除过滤条件 | | |

---

## 21.4 主题切换测试

### 21.4.1 主题切换基础测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-04-01 | 打开应用，检查默认主题 | 应用启动时使用保存的主题（或默认暗色主题） | | |
| TC-04-02 | 在设置中切换到"浅色"主题 | 所有窗口和组件立即切换到浅色主题 | | |
| TC-04-03 | 在设置中切换到"深色"主题 | 所有窗口和组件立即切换到深色主题 | | |
| TC-04-04 | 重启应用 | 应用使用上次保存的主题启动 | | |

### 21.4.2 主题元素验证测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-04-05 | 切换主题后，检查主窗口背景色 | 背景色符合所选主题 | | |
| TC-04-06 | 切换主题后，检查侧边栏样式 | 侧边栏颜色和样式符合主题 | | |
| TC-04-07 | 切换主题后，检查任务卡片样式 | 任务卡片背景、边框、文字颜色符合主题 | | |
| TC-04-08 | 切换主题后，检查按钮样式 | 按钮颜色和hover效果符合主题 | | |
| TC-04-09 | 切换主题后，检查对话框样式 | 对话框背景和文字颜色符合主题 | | |
| TC-04-10 | 切换主题后，检查设置对话框 | 设置对话框样式与主题一致 | | |

### 21.4.3 优先级颜色测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-04-11 | 查看高优先级任务指示器（深色主题） | 显示红色指示器 | | |
| TC-04-12 | 查看中优先级任务指示器（深色主题） | 显示琥珀色指示器 | | |
| TC-04-13 | 查看低优先级任务指示器（深色主题） | 显示绿色指示器 | | |
| TC-04-14 | 切换到浅色主题，检查高优先级指示器 | 显示红色指示器（可能略有调整） | | |
| TC-04-15 | 切换到浅色主题，检查中优先级指示器 | 显示琥珀色指示器 | | |
| TC-04-16 | 切换到浅色主题，检查低优先级指示器 | 显示绿色指示器 | | |

---

## 21.5 通知系统测试

### 21.5.1 通知显示测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-05-01 | 查看工具栏通知铃铛图标 | 显示铃铛图标 | | |
| TC-05-02 | 有未读通知时 | 铃铛图标显示红色圆点指示器 | | |
| TC-05-03 | 点击铃铛图标 | 打开通知面板，显示通知列表 | | |
| TC-05-04 | 点击通知面板外部区域 | 关闭通知面板 | | |

### 21.5.2 截止日期通知测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-05-05 | 创建任务，设置截止日期为明天 | 根据设置，在配置的提醒时间收到通知 | | |
| TC-05-06 | 创建任务，设置截止日期为今天 | 收到紧急截止日期通知 | | |
| TC-05-07 | 创建已过期的任务 | 显示过期通知 | | |

### 21.5.3 回收站通知测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-05-08 | 删除任务到回收站 | 通知面板显示删除通知 | | |
| TC-05-09 | 删除任务3天后（接近自动清理） | 收到"即将永久删除"警告通知 | | |
| TC-05-10 | 删除任务13天后 | 收到紧急"1天后永久删除"警告 | | |

### 21.5.4 备份通知测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-05-11 | 手动触发备份 | 备份完成后显示成功通知 | | |
| TC-05-12 | 自动备份完成 | 显示备份完成通知（如果在设置中启用） | | |
| TC-05-13 | 备份失败 | 显示备份失败通知，包含错误信息 | | |

### 21.5.5 通知操作测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-05-14 | 点击通知中的"标记为已读" | 通知状态更新，红色圆点消失 | | |
| TC-05-15 | 点击通知中的删除按钮 | 通知从列表中移除 | | |
| TC-05-16 | 点击截止日期通知中的"打开任务" | 打开对应任务的详情对话框 | | |
| TC-05-17 | 点击回收站通知中的"恢复" | 从回收站恢复任务 | | |

### 21.5.6 通知历史测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-05-18 | 在通知面板中查看历史通知 | 显示所有历史通知（包括已读） | | |
| TC-05-19 | 清除所有通知 | 所有通知被删除 | | |
| TC-05-20 | 只清除已读通知 | 只删除已读通知，保留未读通知 | | |

---

## 21.6 备份和恢复测试

### 21.6.1 自动备份测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-06-01 | 设置备份频率为"每日"，设置时间为特定时间 | 在设定时间执行自动备份 | | |
| TC-06-02 | 设置备份频率为"每小时" | 每小时执行一次备份 | | |
| TC-06-03 | 设置备份频率为"每周" | 每周在设定时间执行备份 | | |
| TC-06-04 | 在设置中禁用自动备份 | 不再执行自动备份 | | |

### 21.6.2 手动备份测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-06-05 | 在设置中点击"立即备份" | 立即执行备份，显示进度条 | | |
| TC-06-06 | 备份完成后 | 显示成功消息，包含备份文件名 | | |
| TC-06-07 | 备份过程中 | 显示备份进度百分比 | | |

### 21.6.3 备份保留测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-06-08 | 设置保留数量为7 | 保留最近的7个备份 | | |
| TC-06-09 | 创建第8个备份 | 最旧的备份被自动删除 | | |
| TC-06-10 | 设置保留数量为1 | 只保留最新备份 | | |

### 21.6.4 备份位置测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-06-11 | 在设置中选择备份目录 | 保存备份路径 | | |
| TC-06-12 | 选择不可写的目录 | 显示错误提示，建议选择其他位置 | | |
| TC-06-13 | 选择不存在的目录 | 自动创建目录或提示用户 | | |

### 21.6.5 备份历史查看测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-06-14 | 在设置中点击"查看备份历史" | 显示所有备份列表 | | |
| TC-06-15 | 查看备份列表 | 显示每个备份的日期、时间、文件大小 | | |
| TC-06-16 | 删除历史备份中的某个备份 | 确认后删除该备份文件 | | |

### 21.6.6 从备份恢复测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-06-17 | 在设置中选择一个备份文件进行恢复 | 显示确认对话框 | | |
| TC-06-18 | 确认恢复 | 应用关闭，数据库被替换，应用重启 | | |
| TC-06-19 | 恢复后检查数据 | 数据与备份时一致 | | |
| TC-06-20 | 尝试恢复无效的备份文件 | 显示验证错误，阻止恢复 | | |

### 21.6.7 备份失败处理测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-06-21 | 在磁盘空间不足时尝试备份 | 显示磁盘空间不足错误，不删除之前的备份 | | |
| TC-06-22 | 在无权限的目录尝试备份 | 显示权限错误，建议选择其他位置 | | |
| TC-06-23 | 数据库被锁定时尝试备份 | 显示错误，可能重试或建议关闭其他实例 | | |

---

## 21.7 导入/导出测试

### 21.7.1 JSON 导出测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-07-01 | 在设置中点击"导出数据"，选择JSON格式 | 打开文件保存对话框 | | |
| TC-07-02 | 选择保存位置，保存 | 生成JSON文件，包含所有任务数据 | | |
| TC-07-03 | 导出后打开JSON文件验证 | 文件格式正确，包含任务、标签、依赖等所有数据 | | |
| TC-07-04 | 导出包含大量任务（100+）的数据库 | 导出成功，显示进度 | | |

### 21.7.2 SQLite 导出测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-07-05 | 选择SQLite格式导出 | 打开文件保存对话框 | | |
| TC-07-06 | 选择保存位置，保存 | 生成SQLite数据库副本 | | |
| TC-07-07 | 验证导出的SQLite文件 | 文件是有效的SQLite数据库，包含所有表和数据 | | |

### 21.7.3 JSON 导入测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-07-08 | 在设置中点击"导入数据"，选择JSON文件 | 打开文件选择对话框 | | |
| TC-07-09 | 选择有效的JSON文件 | 显示导入选项对话框 | | |
| TC-07-10 | 选择"合并"模式导入 | 导入的数据与现有数据合并 | | |
| TC-07-11 | 选择"覆盖"模式导入 | 现有数据被覆盖 | | |
| TC-07-12 | 选择"追加"模式导入 | 新数据追加到现有数据 | | |
| TC-07-13 | 导入包含冲突的ID数据 | 显示冲突解决选项 | | |
| TC-07-14 | 尝试导入无效的JSON文件 | 显示验证错误，阻止导入 | | |

### 21.7.4 SQLite 导入测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-07-15 | 选择SQLite文件导入 | 显示覆盖警告 | | |
| TC-07-16 | 确认导入 | 数据库被替换，应用重启 | | |
| TC-07-17 | 导入后检查数据 | 数据与导入文件一致 | | |

### 21.7.5 导入/导出进度测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-07-18 | 导出大量任务数据 | 显示进度条和百分比 | | |
| TC-07-19 | 导入大量任务数据 | 显示进度条和百分比 | | |
| TC-07-20 | 导入/导出过程中取消操作 | 操作被取消，数据保持原状 | | |

---

## 21.8 回收站测试

### 21.8.1 软删除测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-08-01 | 删除一个任务 | 任务从任务列表消失 | | |
| TC-08-02 | 删除后点击侧边栏"回收站" | 在回收站中看到被删除的任务 | | |
| TC-08-03 | 查看回收站中的任务 | 显示任务删除日期和剩余天数 | | |
| TC-08-04 | 删除有子任务的父任务 | 父任务和子任务都移入回收站 | | |

### 21.8.2 恢复任务测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-08-05 | 在回收站中点击"恢复"按钮 | 任务恢复到原位置，从回收站消失 | | |
| TC-08-06 | 恢复后回到任务列表 | 恢复的任务显示在原位置 | | |
| TC-08-07 | 恢复有子任务的父任务 | 父任务和子任务一起恢复，保持层级 | | |
| TC-08-08 | 批量选择多个任务，点击"恢复选中" | 所有选中的任务都被恢复 | | |

### 21.8.3 永久删除测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-08-09 | 在回收站中点击"永久删除" | 显示确认对话框 | | |
| TC-08-10 | 确认永久删除 | 任务从数据库永久移除 | | |
| TC-08-11 | 点击"清空回收站" | 显示确认对话框，包含任务数量 | | |
| TC-08-12 | 确认清空回收站 | 所有回收站中的任务被永久删除 | | |
| TC-08-13 | 批量选择任务，点击"永久删除选中" | 显示确认对话框 | | |
| TC-08-14 | 确认批量永久删除 | 所有选中的任务被永久删除 | | |

### 21.8.4 自动清理测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-08-15 | 创建任务，删除，等待13天 | 任务仍在回收站中 | | |
| TC-08-16 | 继续等待至第14天 | 任务被自动永久删除 | | |
| TC-08-17 | 修改设置中的自动清理天数为7 | 之后删除的任务7天后自动清理 | | |
| TC-08-18 | 删除任务，在第3天 | 收到"即将永久删除"通知 | | |
| TC-08-19 | 删除任务，在第13天 | 收到紧急"1天后永久删除"通知 | | |

### 21.8.5 回收站过滤和搜索测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-08-20 | 在回收站中使用日期过滤 | 显示在指定日期范围内删除的任务 | | |
| TC-08-21 | 在回收站中使用搜索框 | 只搜索已删除的任务 | | |
| TC-08-22 | 回收站中按删除时间排序 | 任务按删除日期排序 | | |

### 21.8.6 回收站统计测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-08-23 | 查看回收站 | 显示总删除任务数和占用的空间 | | |
| TC-08-24 | 查看回收站 | 显示下次自动清理日期 | | |
| TC-08-25 | 查看回收站 | 高亮显示即将被清理的任务 | | |

### 21.8.7 空状态测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-08-26 | 回收站为空时点击"回收站" | 显示空状态提示消息 | | |
| TC-08-27 | 空状态显示"返回任务列表"选项 | 点击返回任务列表 | | |

---

## 21.9 设置系统测试

### 21.9.1 通用设置测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-09-01 | 点击设置图标打开设置对话框 | 打开设置对话框，显示分类列表 | | |
| TC-09-02 | 选择"深色"主题 | 应用立即切换到深色主题 | | |
| TC-09-03 | 选择"浅色"主题 | 应用立即切换到浅色主题 | | |
| TC-09-04 | 修改启动选项 | 保存设置，下次启动时生效 | | |
| TC-09-05 | 关闭设置对话框 | 设置被保存，对话框关闭 | | |

### 21.9.2 外观设置测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-09-06 | 选择不同的卡片样式 | 任务卡片样式立即更新 | | |
| TC-09-07 | 调整字体大小 | 应用中所有文字大小变化 | | |
| TC-09-08 | 选择不同的图标样式 | 所有图标立即更新 | | |
| TC-09-09 | 调整卡片圆角半径 | 任务卡片圆角立即变化 | | |

### 21.9.3 通知设置测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-09-10 | 禁用通知 | 不再显示任何通知 | | |
| TC-09-11 | 启用通知，设置截止日期提醒时间 | 在配置的时间收到提醒通知 | | |
| TC-09-12 | 设置回收站警告时间（3天、1天） | 在配置的时间收到警告通知 | | |
| TC-09-13 | 启用备份通知 | 备份完成时收到通知 | | |
| TC-09-14 | 启用系统通知 | 显示Windows系统通知 | | |
| TC-09-15 | 启用通知声音 | 通知时播放声音 | | |

### 21.9.4 备份设置测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-09-16 | 启用自动备份 | 自动备份开始按配置执行 | | |
| TC-09-17 | 设置备份频率为"每小时" | 每小时执行备份 | | |
| TC-09-18 | 设置备份频率为"每日"并指定时间 | 在指定时间每天执行备份 | | |
| TC-09-19 | 设置备份保留数量为10 | 保留最近10个备份 | | |
| TC-09-20 | 选择备份目录 | 备份保存到指定目录 | | |
| TC-09-21 | 点击"立即备份" | 立即执行备份 | | |
| TC-09-22 | 点击"查看备份历史" | 显示备份历史列表 | | |

### 21.9.5 数据设置测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-09-23 | 查看数据设置 | 显示当前数据库路径和文件大小 | | |
| TC-09-24 | 点击"打开文件夹" | 在文件资源管理器中打开数据库目录 | | |
| TC-09-25 | 点击"导出数据" | 打开导出对话框 | | |
| TC-09-26 | 点击"导入数据" | 打开导入对话框 | | |
| TC-09-27 | 点击"清除缓存" | 显示缓存大小，确认后清除 | | |

### 21.9.6 删除设置测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-09-28 | 设置删除操作为"级联删除" | 删除父任务时级联删除子任务 | | |
| TC-09-29 | 设置删除操作为"提升子任务" | 删除父任务时提升子任务为根任务 | | |
| TC-09-30 | 启用回收站自动清理 | 启用自动清理功能 | | |
| TC-09-31 | 设置自动清理天数为7 | 删除的任务7天后自动清理 | | |

### 21.9.7 键盘快捷键设置测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-09-32 | 打开快捷键设置 | 显示所有快捷键列表 | | |
| TC-09-33 | 点击某个快捷键 | 提示输入新的快捷键组合 | | |
| TC-09-34 | 按下新的快捷键组合 | 保存新快捷键，检测冲突 | | |
| TC-09-35 | 点击"重置为默认" | 所有快捷键恢复默认值 | | |

### 21.9.8 关于设置测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-09-36 | 打开关于页面 | 显示应用名称和版本号 | | |
| TC-09-37 | 点击"检查更新" | 显示更新状态 | | |
| TC-09-38 | 点击"查看许可证" | 显示许可证信息 | | |
| TC-09-39 | 点击"反馈" | 打开反馈表单或邮件客户端 | | |
| TC-09-40 | 点击"GitHub 仓库" | 在浏览器中打开GitHub仓库 | | |

### 21.9.9 设置持久化测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-09-41 | 修改多个设置 | 所有设置立即保存并生效 | | |
| TC-09-42 | 重启应用 | 所有设置被恢复 | | |
| TC-09-43 | 点击"重置所有设置" | 显示确认对话框 | | |
| TC-09-44 | 确认重置 | 所有设置恢复默认值 | | |

### 21.9.10 设置验证测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-09-45 | 输入无效的数字设置 | 显示验证错误，阻止保存 | | |
| TC-09-46 | 选择无效的路径 | 显示路径错误，提示选择有效路径 | | |
| TC-09-47 | 输入无效的时间格式 | 显示时间格式错误 | | |

---

## 21.10 性能测试

### 21.10.1 大数据量加载测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-10-01 | 导入/创建1000个任务 | 应用成功加载所有任务 | | |
| TC-10-02 | 测量1000个任务的启动时间 | 启动时间<3秒 | | |
| TC-10-03 | 测量1000个任务的滚动流畅度 | 滚动流畅，无卡顿 | | |
| TC-10-04 | 测量1000个任务的搜索响应时间 | 搜索响应<1秒 | | |
| TC-10-05 | 测量1000个任务的过滤响应时间 | 过滤响应<1秒 | | |

### 21.10.2 大层级结构测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-10-06 | 创建深层嵌套任务结构（10级以上） | 正确显示和展开/折叠 | | |
| TC-10-07 | 创建有大量子任务的父任务（50+子任务） | 正确显示，展开流畅 | | |
| TC-10-08 | 展开/折叠大量子任务 | 操作响应快速，无明显延迟 | | |

### 21.10.3 数据库操作性能测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-10-09 | 批量创建100个任务 | 操作快速完成（<2秒） | | |
| TC-10-10 | 批量更新100个任务 | 操作快速完成（<2秒） | | |
| TC-10-11 | 批量删除100个任务 | 操作快速完成（<2秒） | | |
| TC-10-12 | 执行FTS5全文搜索 | 搜索结果快速返回（<500ms） | | |

### 21.10.4 内存使用测试

| 测试用例 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|------|
| TC-10-13 | 应用启动后 | 内存使用<200MB | | |
| TC-10-14 | 加载1000个任务后 | 内存增长合理（<500MB） | | |
| TC-10-15 | 长时间使用后（2小时） | 无明显内存泄漏 | | |

---

## 附录：测试结果汇总表

| 模块 | 总用例数 | 通过 | 失败 | 阻塞 | 未测试 | 通过率 |
|-----|---------|------|------|------|--------|--------|
| 21.1 CRUD操作 | 27 | | | | | |
| 21.2 任务层级 | 16 | | | | | |
| 21.3 搜索和过滤 | 32 | | | | | |
| 21.4 主题切换 | 16 | | | | | |
| 21.5 通知系统 | 20 | | | | | |
| 21.6 备份和恢复 | 23 | | | | | |
| 21.7 导入/导出 | 20 | | | | | |
| 21.8 回收站 | 27 | | | | | |
| 21.9 设置系统 | 47 | | | | | |
| 21.10 性能测试 | 15 | | | | | |
| **总计** | **243** | | | | | |

---

## 测试说明

1. **状态说明：**
   - ✅ 通过：测试用例执行成功，结果符合预期
   - ❌ 失败：测试用例执行失败，结果不符合预期
   - ⏸️ 阻塞：由于前置问题无法执行该测试
   - ⬜ 未测试：尚未执行该测试用例

2. **测试建议：**
   - 建议按照模块顺序逐个测试
   - 发现问题后记录详细信息，包括复现步骤
   - 对于性能测试，建议在不同配置的机器上测试
   - 测试过程中记录实际内存和CPU使用情况

3. **回归测试：**
   - 修复bug后，需重新执行相关模块的所有测试用例
   - 修改核心功能后，建议执行完整回归测试

---

**文档版本：** 1.0  
**创建日期：** 2026-02-19  
**最后更新：** 2026-02-19
